<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>polymorphism</title>
</head>
<body>
<script>
    function Shape(name) {
        this.name = name;
        this.writeArea = function () {
            console.log(this.area());
        };
    }

    
    function Triangle (name, side_a, side_b, side_c) {
        this.name = name;
        this.a = side_a;
        this.b = side_b;
        this.c = side_c;
        this.perimeter = function () {
            return this.a + this.b + this.c;
        };
        this.p = this.perimeter()/2;
    }

    
    function Square(name, side) {
        this.name = name;
        this.side = side;
    }

    
    function Circle(name, radius) {
        this.name = name;
        this.radius = radius;
    }

    
    function Rhombus(name, side, height) {
        this.name = name;
        this.side = side;
        this.height = height;
    }

    var figure = new Shape('Oktaedr');
    Circle.prototype = figure;
    Square.prototype = figure;
    Triangle.prototype = figure;
    Rhombus.prototype = figure;


    var my_triangle = new Triangle('First triangle', 4, 5, 6);
    var my_circle = new Circle('First big circle', 50);
    var my_square = new Square('Little square', 4);
    var my_rhombus = new Rhombus('Long rhombus', 25, 6);


    Circle.prototype.area = function () {
        return (Math.PI * this.radius * this.radius).toFixed(2);
    };
    console.log(my_circle.area()); //method 1
    my_circle.writeArea(); // method 2 - by using parent method of Shape constructor.


    Triangle.prototype.area = function () {
        return (Math.sqrt(this.p*(this.p-this.a)*(this.p-this.b)*(this.p-this.c))).toFixed(2);
    };
    console.log(my_triangle.area());
//    my_triangle.writeArea();


    Square.prototype.area = function () {
        return this.side * this.side;
    };
//    my_square.writeArea();


    Rhombus.prototype.area = function () {
        return this.side * this.height;
    };
//    my_rhombus.writeArea();




    //Change method valueOf
    
    Rhombus.prototype.valueOf = function () {
        return this.area();
    };
    console.log(my_rhombus);


    Triangle.prototype.valueOf = function () {
        return this.area();
    };

    Square.prototype.valueOf = function () {
        return this.area();
    };

    Circle.prototype.valueOf = function () {
        return this.area();
    };

//    console.log(my_triangle.valueOf());

//    Change method toString

    Triangle.prototype.toString = function () {
        return "Triangle with sides: " + this.a + ', ' + this.b + ', ' + this.c + '. <br>';
    };
    document.write(my_triangle);
    console.log(my_triangle);

    Circle.prototype.toString = function () {
        return "Circle with radius: " + this.radius + '. <br>';
    };
    document.write(my_circle);

    Rhombus.prototype.toString = function () {
        return "Rhombus with side: " + this.side + ' and height ' + this.height + '. <br>';
    };
    document.write(my_rhombus);

    Square.prototype.toString = function () {
        return "Square with side: " + this.side + '. <br>';
    };
    document.write(my_square);

</script>

</body>
</html>